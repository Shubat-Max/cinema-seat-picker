(this["webpackJsonpcinema-seat-picker"]=this["webpackJsonpcinema-seat-picker"]||[]).push([[0],{25:function(n){n.exports=JSON.parse('{"movieTitle":"Pulp Fiction","timestamp":"1578259800","place":{"country":"Finland","city":"Helsinki","name":"Andorra"},"hall":{"name":"HALL 1","rows":[{"number":1,"seats":[{"number":1,"skip":1,"isSelected":false,"isReserved":false,"isPurchased":false,"price":10},{"number":2,"price":15},{"number":3,"price":15},{"number":4,"price":15},{"number":5,"price":15},{"number":6,"price":15},{"number":7,"price":15},{"number":8,"price":15},{"number":9,"price":10}]},{"number":2,"seats":[{"number":1,"price":10},{"number":2,"price":10},{"number":3,"price":15},{"number":4,"price":15},{"number":5,"price":15},{"number":6,"price":15},{"number":7,"price":15},{"number":8,"price":15},{"number":9,"price":15},{"number":10,"price":10},{"number":11,"price":10}]},{"number":3,"seats":[{"number":1,"price":10},{"number":2,"price":10},{"number":3,"price":15},{"number":4,"price":15},{"number":5,"price":15},{"number":6,"price":15},{"number":7,"price":15},{"number":8,"price":15},{"number":9,"price":15},{"number":10,"price":10},{"number":11,"price":10}]},{"number":4,"seats":[{"number":1,"skip":2,"price":15},{"number":2,"price":15},{"number":3,"price":15},{"number":4,"price":15},{"number":5,"price":15},{"number":6,"price":15},{"number":7,"price":15}]},{"number":5,"seats":[{"number":1,"skip":2,"price":15},{"number":2,"price":15},{"number":3,"price":15},{"number":4,"price":15},{"number":5,"price":15},{"number":6,"price":15},{"number":7,"price":15}]},{"number":6,"seats":[{"number":1,"skip":2,"price":15},{"number":2,"price":15},{"number":3,"price":15},{"number":4,"price":15},{"number":5,"price":15},{"number":6,"price":15},{"number":7,"price":15}]},{"number":7,"seats":[{"number":1,"skip":2,"price":15},{"number":2,"price":15},{"number":3,"price":15},{"number":4,"price":15},{"number":5,"price":15},{"number":6,"price":15},{"number":7,"price":15}]},{"number":8,"seats":[{"number":1,"price":10},{"number":2,"price":10},{"number":3,"price":15},{"number":4,"price":15},{"number":5,"price":15},{"number":6,"price":15},{"number":7,"price":15},{"number":8,"price":15},{"number":9,"price":15},{"number":10,"price":10},{"number":11,"price":10}]},{"number":9,"seats":[{"number":1,"span":2,"price":20},{"number":2,"skip":1,"span":2,"price":20},{"number":3,"skip":1,"span":2,"price":20},{"number":4,"skip":1,"span":2,"price":20}]}]}}')},28:function(n,e,r){n.exports=r(41)},33:function(n,e,r){},41:function(n,e,r){"use strict";r.r(e);var t=r(0),i=r.n(t),c=r(9),a=r.n(c),u=(r(33),r(1)),o=r(5),l=r(10),s=r(6);function p(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function b(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(r,!0).forEach((function(e){Object(l.a)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):p(r).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}var d=Object(s.b)({name:"__default_hall_name__",rows:[]}),f=Object(s.b)({hallTitle:"",movieTitle:"",timestamp:null,place:{country:"",city:"",name:""},hall:new d}),m=new(Object(s.b)({entities:new f,loading:!1,loaded:!1})),g=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0,r=e.type,t=e.payload;switch(r){case"LOAD_SESSION_START":return n.set("loading",!0).set("loaded",!1);case"LOAD_SESSION_SUCCESS":return n.update("entities",(function(n){return n.mergeDeep(t)})).set("loading",!1).set("loaded",!0);case"LOAD_SESSION_FAILED":return n;case"SELECT_SEAT":return n.updateIn(["entities","hall","rows",t.row_id,"seats",t.seat_id],(function(n){return b({},n,{isSelected:!0})}));case"DESELECT_SEAT":return n.updateIn(["entities","hall","rows",t.row_id,"seats",t.seat_id],(function(n){return b({},n,{isSelected:!1})}));case"RESERVE_ORDER":return n.setIn(["entities","hall","rows"],n.entities.hall.rows.map((function(n){return b({},n,{seats:n.seats.map((function(n){return n.isSelected?b({},n,{isReserved:n.isSelected,isSelected:!1}):b({},n)}))})})));case"BUY_ORDER":return n.setIn(["entities","hall","rows"],n.entities.hall.rows.map((function(n){return b({},n,{seats:n.seats.map((function(n){return n.isSelected?b({},n,{isPurchased:n.isSelected,isSelected:!1}):b({},n)}))})})));default:return n}},v=Object(s.b)({row_id:null,seat_id:null,row:null,seat:null,price:null}),O=new(Object(s.b)({seats:Object(s.a)([],v)})),h=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0,r=e.type,t=e.payload;switch(r){case"ADD_SEAT_TO_ORDER":return n.mergeIn(["seats"],t);case"REMOVE_SEAT_FROM_ORDER":return n.updateIn(["seats"],(function(n){return n.filter((function(n){return!(n.row_id===t.row_id&&n.seat_id===t.seat_id)}))}));case"RESERVE_ORDER":case"BUY_ORDER":return n.removeIn(["seats"]);default:return n}},x=function(){return Object(o.c)({session:g,order:h})},E=r(21),w=r.n(E),j=r(22),y=function(n){return Object(o.e)(x(),n||{},Object(o.d)(Object(o.a)(j.a,w.a)))},S=r(2);function _(){var n=Object(u.a)(["\n  background: #24262c;\n  flex: 1;\n"]);return _=function(){return n},n}function k(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  height: 100%;\n  width: 100%;\n  background: #24262c;\n  color: #fff;\n"]);return k=function(){return n},n}var R=S.b.div(k()),D=S.b.div(_());function P(){var n=Object(u.a)(["\n  height: 60px;\n  line-height: 60px;\n  text-align: center;\n  background: rgba(255, 255, 255, 0.9);\n  text-transform: uppercase;\n  width: 400px;\n  transform: rotateX(-50deg);\n  color: #2d2d2d;\n  user-select: none;\n"]);return P=function(){return n},n}function T(){var n=Object(u.a)(["\n  display: block;\n  transform: rotateX(20deg);\n"]);return T=function(){return n},n}function A(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  perspective: 1000px;\n"]);return A=function(){return n},n}R.displayName="PageWrapper";var I=S.b.div(A()),L=S.b.div(T()),C=S.b.div(P()),z=r(3),N=r(11),F=r.n(N);function B(){var n=Object(u.a)(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: nowrap;\n  flex-direction: row;\n  text-align: center;\n  width: 30px;\n  height: 30px;\n  margin: 0 0 0 20px;\n  color: grey;\n  user-select: none;\n  float: right;\n  font-size: 12px;\n"]);return B=function(){return n},n}function U(){var n=Object(u.a)(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: nowrap;\n  flex-direction: row;\n  text-align: center;\n  width: 30px;\n  height: 30px;\n  margin: 0 20px 0 0;\n  color: grey;\n  user-select: none;\n  float: left;\n  font-size: 12px;\n"]);return U=function(){return n},n}function V(){var n=Object(u.a)(["\n  position: relative;\n  min-width: 100%;\n  width: auto;\n"]);return V=function(){return n},n}function M(){var n=Object(u.a)(["\n  display: block;\n  height: 30px;\n  white-space: nowrap;\n  margin: 10px;\n  border-radius: 2px;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n"]);return M=function(){return n},n}var X=S.b.div(M()),Y=S.b.div(V()),J=S.b.div(U()),H=S.b.div(B());function $(){var n=Object(u.a)(["\n  font-weight: 700;\n"]);return $=function(){return n},n}function W(){var n=Object(u.a)(["\n  display: inline-block;\n  line-height: 10px;\n"]);return W=function(){return n},n}function q(){var n=Object(u.a)(["\n  display: inline-block;\n  line-height: 10px;\n"]);return q=function(){return n},n}function G(){var n=Object(u.a)(["\n  display: none;\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 900;\n  background: #fff;\n  color: #000;\n  padding: 5px 10px;\n  border-radius: 5px;\n  margin-bottom: 10px;\n  font-size: 16px;\n  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);\n\n  ",":hover & {\n    display: block;\n  }\n\n  &:hover {\n    display: none;\n  }\n"]);return G=function(){return n},n}function K(){var n=Object(u.a)(["\n      background: #191919;\n      color: #000;\n      cursor: default;\n    "]);return K=function(){return n},n}function Q(){var n=Object(u.a)(["\n      background: #58205f;\n      color: #000;\n      cursor: default;\n    "]);return Q=function(){return n},n}function Z(){var n=Object(u.a)(["\n      background: #ffcd00;\n      color: #000;\n    "]);return Z=function(){return n},n}function nn(){var n=Object(u.a)(["\n      &:hover {\n        background: #ffcd00;\n        color: black;\n      }\n    "]);return nn=function(){return n},n}function en(){var n=Object(u.a)(["\n  display: inline-block;\n  position: relative;\n  text-align: center;\n  line-height: 30px;\n  width: calc(\n    30px +\n      ","\n  );\n  height: 30px;\n  margin: 0 5px 0 calc(5px + 40px * ",");\n  border-radius: 3px;\n  background: #ab47bc;\n  user-select: none;\n  cursor: pointer;\n  font-size: 12px;\n  transition: 0.24s;\n  color: #ffffff;\n\n  ","\n  \n  ","\n\n  ","  \n\n  ","\n"]);return en=function(){return n},n}var rn=S.b.div(en(),(function(n){return n.span>1?40*(n.span-1)+"px":"0px"}),(function(n){return n.skip?n.skip:0}),(function(n){return!(n.isReserved||n.isSelected||n.isPurchased)&&Object(S.a)(nn())}),(function(n){return n.isSelected&&Object(S.a)(Z())}),(function(n){return n.isReserved&&Object(S.a)(Q())}),(function(n){return n.isPurchased&&Object(S.a)(K())})),tn=S.b.div(G(),rn),cn=S.b.div(q()),an=S.b.div(W()),un=S.b.div($()),on=r(25);function ln(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function sn(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ln(r,!0).forEach((function(e){Object(l.a)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ln(r).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}var pn=Object(z.b)((function(n,e){return{seat:n.session.entities.hall.rows[e.row_id].seats[e.seat_id]}}),{toggleSeat:function(n,e,r){return function(t){t({type:r?"DESELECT_SEAT":"SELECT_SEAT",payload:{row_id:n,seat_id:e}})}},addSeatToOrder:function(n,e,r,t,i){return function(c){c({type:"ADD_SEAT_TO_ORDER",payload:{row_id:n,seat_id:e,row:r,seat:t,price:i}})}},removeSeatFromOrder:function(n,e){return function(r){r({type:"REMOVE_SEAT_FROM_ORDER",payload:{row_id:n,seat_id:e}})}}})((function(n){var e=n.seat,r=e.skip,t=e.span,c=e.number,a=e.isSelected,u=e.isReserved,o=e.isPurchased,l=e.price,s=n.seat_id,p=n.row_id,b=n.row_number,d=n.toggleSeat,f=n.addSeatToOrder,m=n.removeSeatFromOrder;return i.a.createElement(rn,{skip:r,span:t,onClick:function(){u||o||(d(p,s,a),a?m(p,s):f(p,s,b,c,l))},isSelected:a,isReserved:u,isPurchased:o},u||o?null:i.a.createElement(tn,null,i.a.createElement(cn,null,"Row: ",b),", ",i.a.createElement(an,null,"Seat: ",c),i.a.createElement(un,null,l," $")),c)})),bn=function(n){return n?i.a.createElement(J,null,n):i.a.createElement(J,null)},dn=function(n){return n?i.a.createElement(H,null,n):i.a.createElement(H,null)},fn=Object(z.b)((function(n,e){return{row:n.session.entities.hall.rows[e.id]}}))((function(n){var e=n.row,r=n.id,t=e.seats,c=e.number;return i.a.createElement(X,null,i.a.createElement(Y,{style:{}},bn(c),t.map((function(n,e){return i.a.createElement(pn,{seat_id:e,row_id:r,row_number:c,key:F()()})})),dn(c)))})),mn=Object(z.b)((function(n){return{rows:n.session.entities.hall.rows}}))((function(n){var e=n.rows;return i.a.createElement(I,null,i.a.createElement(C,null,"SCREEN"),i.a.createElement(L,null,e.map((function(n,e){return i.a.createElement(fn,{id:e,key:F()()})}))))}));function gn(){var n=Object(u.a)(["\n  margin-right: 20px;\n  user-select: none;\n  font-size: 0.8rem;\n"]);return gn=function(){return n},n}function vn(){var n=Object(u.a)(["\n  margin-left: 5px;\n"]);return vn=function(){return n},n}function On(){var n=Object(u.a)(["\n  display: inline-block;\n  height: 20px;\n  line-height: 20px;\n  text-align: center;\n  width: 20px;\n  background: #191919;\n  color: #000;\n  border-radius: 3px;\n  user-select: none;\n"]);return On=function(){return n},n}function hn(){var n=Object(u.a)(["\n  display: inline-block;\n  height: 20px;\n  line-height: 20px;\n  text-align: center;\n  width: 20px;\n  background: #58205f;\n  color: #000;\n  border-radius: 3px;\n  user-select: none;\n"]);return hn=function(){return n},n}function xn(){var n=Object(u.a)(["\n  display: inline-block;\n  height: 20px;\n  line-height: 20px;\n  text-align: center;\n  width: 20px;\n  background: #ffcd00;\n  color: #000;\n  border-radius: 3px;\n  user-select: none;\n"]);return xn=function(){return n},n}function En(){var n=Object(u.a)(["\n  display: inline-block;\n  height: 20px;\n  line-height: 20px;\n  text-align: center;\n  width: 20px;\n  background: #ab47bc;\n  color: #fff;\n  border-radius: 3px;\n  user-select: none;\n"]);return En=function(){return n},n}function wn(){var n=Object(u.a)(["\n  flex: 1;\n  margin: 20px 0;\n  text-align: left;\n  color: #fff;\n  display: flex;\n  flex-wrap: nowrap;\n  flex-direction: row;\n  align-items: center;\n  min-width: 400px;\n"]);return wn=function(){return n},n}var jn=S.b.div(wn()),yn=S.b.div(En()),Sn=S.b.div(xn()),_n=S.b.div(hn()),kn=S.b.div(On()),Rn=S.b.span(vn()),Dn=S.b.div(gn()),Pn=function(){return i.a.createElement(jn,null,i.a.createElement(Dn,null,i.a.createElement(yn,null,"1"),i.a.createElement(Rn,null,"Free")),i.a.createElement(Dn,null,i.a.createElement(Sn,null,"1"),i.a.createElement(Rn,null,"Selected")),i.a.createElement(Dn,null,i.a.createElement(_n,null,"1"),i.a.createElement(Rn,null,"Reserved")),i.a.createElement(Dn,null,i.a.createElement(kn,null,"1"),i.a.createElement(Rn,null,"Purchased")))};function Tn(){var n=Object(u.a)(["\n             background: #ab47bc;\n             border-color: #573368;\n             cursor: pointer;\n\n             &:hover {\n               background: #ffcd00;\n               border-color: #c67d00;\n               color: #000;\n             }\n           "]);return Tn=function(){return n},n}function An(){var n=Object(u.a)(["\n         margin: 0 10px;\n         background: #191919;\n         border-bottom: 3px solid #191919;\n         color: #fff;\n         padding: 6px 12px;\n         border-radius: 3px;\n         user-select: none;\n         cursor: not-allowed;\n         text-transform: uppercase;\n         font-size: 24px;\n         transition: 0.24s;\n\n         ","\n       "]);return An=function(){return n},n}function In(){var n=Object(u.a)(["\n  flex: 1;\n  margin: 20px 0;\n  text-align: right;\n  color: #fff;\n  min-width: 400px;\n"]);return In=function(){return n},n}function Ln(){var n=Object(u.a)(["\n      ",":hover & {\n        display: block;\n      }\n    "]);return Ln=function(){return n},n}function Cn(){var n=Object(u.a)(["\n  display: none;\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  width: auto;\n  background: #fff;\n  color: #000;\n  min-width: 100%;\n  text-align: center;\n  padding: 10px 5px;\n  margin-bottom: 10px;\n  border-radius: 5px;\n\n  ","\n\n  & div {\n    display: inline-block;\n    text-wrap: none;\n  }\n"]);return Cn=function(){return n},n}function zn(){var n=Object(u.a)(["\n      border-bottom: 1px dashed #fff;\n      cursor: pointer;\n      color: #fff;\n    "]);return zn=function(){return n},n}function Nn(){var n=Object(u.a)(["\n  display: inline-block;\n  position: relative;\n  font-weight: 700;\n  border-bottom: 1px dashed transparent;\n  cursor: default;\n  color: #818181;\n\n  ","\n"]);return Nn=function(){return n},n}function Fn(){var n=Object(u.a)(["\n  border-top: 1px solid #696969;\n  padding: 0 40px;\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n  background: #24262c;\n"]);return Fn=function(){return n},n}var Bn=S.b.div(Fn()),Un=S.b.span(Nn(),(function(n){return n.enabled&&Object(S.a)(zn())})),Vn=S.b.div(Cn(),(function(n){return n.enabled&&Object(S.a)(Ln(),Un)})),Mn=S.b.div(In()),Xn=S.b.span(An(),(function(n){return n.enabled&&Object(S.a)(Tn())})),Yn=Object(z.b)((function(n){return{seats:n.order.seats,totalSelected:n.order.seats.size,totalPrice:n.order.seats.reduce((function(n,e){return n+e.price}),0)}}),{reserveOrder:function(){return function(n){n({type:"RESERVE_ORDER"})}},buyOrder:function(){return function(n){n({type:"BUY_ORDER"})}}})((function(n){var e=n.totalSelected,r=n.totalPrice,t=n.reserveOrder,c=n.buyOrder,a=n.seats;return i.a.createElement(Bn,null,i.a.createElement(Pn,null),i.a.createElement(Mn,null,i.a.createElement(Un,{enabled:!!e},i.a.createElement(Vn,{enabled:!!e},a.map((function(n){return i.a.createElement("div",null,"Row ",n.row,", Seat ",n.seat)}))),e," ticket(s) - ",r," $"),i.a.createElement(Xn,{enabled:!!e,onClick:function(){return e&&t()}},"RESERVE"),"or",i.a.createElement(Xn,{enabled:!!e,onClick:function(){return e&&c()}},"BUY")))}));function Jn(){var n=Object(u.a)(["\n  flex: 0 0;\n  margin-bottom: 20px;\n\n  & p {\n    margin: 0;\n  }\n"]);return Jn=function(){return n},n}function Hn(){var n=Object(u.a)(["\n  flex: 0 0;\n  margin-top: 20px;\n  font-weight: 700;\n  letter-spacing: 3px;\n  font-size: 1.2rem;\n"]);return Hn=function(){return n},n}function $n(){var n=Object(u.a)(["\n  padding: 0 40px;\n  border-bottom: 1px solid #696969;\n  color: #fff;\n  background: #24262c;\n"]);return $n=function(){return n},n}var Wn=S.b.div($n()),qn=S.b.div(Hn()),Gn=S.b.div(Jn()),Kn=Object(z.b)((function(n){return{session:n.session.entities}}))((function(n){var e=n.session,r=e.timestamp,t=e.movieTitle,c=e.place;return i.a.createElement(Wn,null,i.a.createElement(qn,null,t),i.a.createElement(Gn,null,i.a.createElement("p",null,new Date(1e3*r).toLocaleDateString(void 0,{month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})),i.a.createElement("p",null,i.a.createElement("b",null,c.name)," | ",c.city,", ",c.country)))}));function Qn(){var n=Object(u.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Qn=function(){return n},n}var Zn=S.b.div(Qn()),ne=function(){return i.a.createElement(Zn,null,i.a.createElement("img",{src:"./assets/gif/Blocks-1s-200px-8px.svg",alt:""}))},ee=Object(z.b)((function(n){return{loading:n.session.loading,loaded:n.session.loaded,session:n.session.entities}}),{loadSessionStart:function(){return function(n){n({type:"LOAD_SESSION_START"})}},loadSessionSuccess:function(){return function(n){var e={status:200,data:sn({},on)};n({type:"LOAD_SESSION_START"}),setTimeout((function(){n({type:"LOAD_SESSION_SUCCESS",payload:e.data})}),1500)}}})((function(n){var e=n.loadSessionStart,r=n.loadSessionSuccess,c=n.loading,a=n.loaded,u=n.session;Object(t.useEffect)((function(){e(),r()}),[e,r]);return a&&!c&&u?i.a.createElement(R,null,i.a.createElement(Kn,null),i.a.createElement(D,null,i.a.createElement(mn,null)),i.a.createElement(Yn,null)):i.a.createElement(R,null,i.a.createElement(ne,null))}));function re(){var n=Object(u.a)(["\n  min-height: 100%;\n  height: 100vh;\n  min-width: 100%;\n  width: 100vw;\n  background: #dcdcdd;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return re=function(){return n},n}var te=S.b.div(re()),ie=function(){var n=y();return i.a.createElement(z.a,{store:n},i.a.createElement(te,null,i.a.createElement(ee,null)))};a.a.render(i.a.createElement(ie,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.5f7fd2c5.chunk.js.map